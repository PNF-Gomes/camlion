<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset='utf-8'>
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="styles.css">
   <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
   <script src="script.js"></script>



  <meta charset="utf-8">
  <title>CamLION</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">

  <!-- Favicons -->
  <link href="img/favicon.png" rel="icon">
  <link href="img/apple-touch-icon.png" rel="apple-touch-icon">


  <!-- Bootstrap CSS File -->
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="lib/animate/animate.min.css" rel="stylesheet">
  <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <link href="css/style.css" rel="stylesheet">


<link rel="stylesheet" href="bootstrap.min.css">
<style>
canvas {
    padding: 0;
    margin: auto;
    display: block;
    
}
.canvas-holder
        #canvas-data {
		position: absolute;
            top: 0;
	    margin-top: 230px;
            text-align: center;
            width: 100%;
            left:0 ;
            font-size: 90px;
            line-height: 300px;
	    color:#7d919e;
        }
                .div1 {
		 height: 95px;
		}
.mycenter {
		 text-align: center;
		}
</style>
</head>
<body>

  


  <!--/ Nav Star /-->
  <nav class="navbar navbar-default navbar-trans navbar-expand-lg fixed-top">
    <div class="container">
      <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarDefault"
        aria-controls="navbarDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <a class="navbar-brand text-brand" href="index.html">CAM<span class="color-b">LION</span></a>
      <button type="button" class="btn btn-link nav-search navbar-toggle-box-collapse d-md-none" data-toggle="collapse"
        data-target="#navbarTogglerDemo01" aria-expanded="false">

      </button>
      <div class="navbar-collapse collapse justify-content-center" id="navbarDefault">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="index.html">Your safety is our priority</a>
          </li>
        </ul>
      </div>
     
    </div>
  </nav>

  <section class="section-testimonials section-t8 nav-arrow-a">
    <div class="container">
 <h4  class="mycenter">Contagion Risk Evaluation</h4> 
<script src="circle-progress-bar.min.js"></script>
<div class="canvas-holder" class="center">

    <canvas id="canvasChart" width="300" height="300"></canvas>
        <div id="canvas-data"></div>
    </div>
 
</div>
  </div>

  <section class="section-testimonials section-t8 nav-arrow-a">
    <div class="container">
      <div id="testimonial-carousel" class="owl-carousel owl-arrow">
        <div class="carousel-item-a">
          <div class="testimonials-box">
            <div class="row">
              <div class="col-sm-12 col-md-6">
                <div class="testimonial-img">
			<h4 class="mycenter">Room Concentration Heatmap</h4> 

                  <canvas id="canvas" width="500" height="500" style="border:1px solid #d3d3d3;" http-equiv="refresh"  content="5">

                </div>
              </div>
              <div class="col-sm-12 col-md-6">
                
                <div class="testimonials-content">
			<div class="div1"></div>
			<div class="div1">
				<h4  class="mycenter">People/M<sup>2</sup> </h4> 
                 		<div class="progress">
					<div id = "pm2" class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:60%">
		    				
		  			</div>
				</div>
	   		</div>
	   		<div class="div1">
				<h4  class="mycenter">Physical Distance </h4> 
				<div class="progress">
					<div id = "dist" class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:60%">
		    				
		 			 </div>
				</div>
	     		</div>
	       		
			<div class="div1">
				<h4  class="mycenter">Environmental Condition</h4> 
				<div class="progress">
					<div id = "danger" class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:60%">
		    				
		 			 </div>
				</div>
	     		</div>
			<div class="div1">
				<h4  class="mycenter">Geographical Risk</h4> 
				<div class="progress">
					<div id = "georisk" class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:60%">
		    				
		 			 </div>
				</div>
	     		</div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>


  <footer>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="credits">
            <!--
              All the links in the footer should remain intact.
              You can delete the links only if you purchased the pro version.
              Licensing information: https://bootstrapmade.com/license/
              Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=EstateAgency
            -->
            Designed by <a target="_blank" href="https://camlion.com/">CamLION</a>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <!--/ Footer End /-->

  <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
  <div id="preloader"></div>


  
 
  <script src="lib/owlcarousel/owl.carousel.min.js"></script>
  <script src="lib/scrollreveal/scrollreveal.min.js"></script>
  
  <!-- Template Main Javascript File -->
  <script src="js/main.js"></script>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
  
    <link href="//www.cssscript.com/wp-includes/css/sticky.css" rel="stylesheet" type="text/css">
<script src="simpleheat.js"></script>

<script>
var pessoas;

function Getheat() {
        var returned = "";
        $.ajax({
                async: false,
                cache: false,
                type: "POST",
                url: "tempHeat.php",
                data: { numpoits: 100}
                }).done(function( msg ) {                        
			pessoas = msg.split(">");
                });
         return returned;
    }

   Getheat();

var matrix = Array(500).fill(null).map(() =>Array(500).fill(0));
var x ;
var y ;

for (var i = 0; i < pessoas.length-1; i++) 
{

	pessoa = pessoas[i].split(";");

	x = Math.floor(pessoa[0].replace(/\s/g, ''));
	y = Math.floor(pessoa[1]);

	matrix[x][y]=matrix[x][y]+1;
}

var data = [[0,0,matrix[0][0]],[0,1,matrix[0][1]]];

for (var i = 0; i < 500; i+=10) 
{
	for (var j = 0; j < 500; j+=1) 
	{
		if(matrix[i][j]!=0)
		data.push([i,j,matrix[i][j]+1]);
	}
}

var heat = simpleheat('canvas').data(data).max(18),
    frame;

heat.draw();
   
frame = null;




</script>
<script>

 	var canvas = document.getElementById('canvasChart');

        canvas.addEventListener('circleProgressBar.afterDraw', function (e) {
            var span = document.getElementById('canvas-data');
            span.innerText = (e.detail.self.getValue() * 10).toFixed(0) ;
        }, false);

        var colors = ['#3bf2f5','#00FF00', '#fff15c', '#FF0000'];
        var circleProgressBar = new CircleProgressBar(canvas, {colors: colors});
        circleProgressBar.setValue(0.0);


  function GetChoice() {
        var returned = "";
        $.ajax({
                async: false,
                cache: false,
                type: "POST",
                url: "temp2.php",
                data: { name: ""}
                }).done(function( msg ) {                        
                        returned = msg;
			var array = msg.split(";");

			pm2 = array[0]*10;
			dist = array[1]*10;
			zone = array[2]*10;
			risk = array[3];
			data = array[4]*10;
			georisk = array[5]*10;

			document.getElementById("pm2").style ="width:"+pm2+"%";
			document.getElementById("dist").style ="width:"+dist+"%";
			document.getElementById("danger").style ="width:"+zone+"%";
			document.getElementById("georisk").style ="width:"+georisk+"%";
			circleProgressBar.setValue(risk/10);
                });
         return returned;
    }

    var r = GetChoice();


setInterval(function(){ GetChoice(); heat(); }, 1000);


</script>


</body>
</html>
